(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dc3ca46"],{"227e":function(e,t,a){"use strict";var s=a("8c67"),n=a.n(s);n.a},"8a91":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Login-box"},[e._m(0),a("van-form",[a("div",{staticClass:"lm_box"},[a("div",{staticClass:"lm_mobile lm_input",class:[1==e.lm_Active?"lm_active":""]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{focus:function(t){return e.lm_inputFcous(1)},blur:function(t){return e.lm_inputBlur()},input:function(t){t.target.composing||(e.mobile=t.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.CAPTCHAFlag,expression:"!CAPTCHAFlag"}],staticClass:"getCAPTCHA",on:{click:function(t){return e.getCAPTCHA()}}},[e._v("获取验证码")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.CAPTCHAFlag,expression:"CAPTCHAFlag"}],staticClass:"getCAPTCHAA"},[e._v("获取验证码("+e._s(e.lm_second)+")")]),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.lm_mobileFlag,expression:"!lm_mobileFlag"}],staticClass:"lm_toast"},[e._v("请输入正确的手机号码")])]),a("div",{staticClass:"lm_pass lm_input",class:[2==e.lm_Active?"lm_active":""]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:e.captcha},on:{focus:function(t){return e.lm_inputFcous(2)},blur:function(t){return e.lm_inputBlur()},input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.lm_passFlag,expression:"!lm_passFlag"}],staticClass:"lm_toast"},[e._v("请输入验证码")])]),a("div",{staticClass:"lm-text"},[a("span",[e._v("*未注册的手机号将自动注册")]),a("span",{on:{click:function(t){return e.lm_toggle()}}},[e._v("使用密码登录")])]),a("div",[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"linear-gradient(to right, rgb(255, 146, 71),rgb(253, 88, 3))"},on:{click:function(t){return e.lm_Login()}}},[e._v("登录")])],1)])]),a("div")],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Login-img"},[a("img",{attrs:{src:"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png"}})])}],i=(a("96cf"),a("1da1")),l=a("d399"),o={data:function(){return{mobile:"18568571773",captcha:"",lm_Active:null,lm_mobileFlag:!0,lm_passFlag:!0,lm_flag:!1,CAPTCHAFlag:!1,lm_second:60}},methods:{lm_inputFcous:function(e){this.lm_Active=e},lm_inputBlur:function(){this.lm_Active=null;var e=/^[1][3,4,5,7,8,9][0-9]{9}$/;e.test(this.mobile)?this.lm_mobileFlag=!0:this.lm_mobileFlag=!1,0==this.captcha.length?this.lm_passFlag=!1:this.lm_passFlag=!0,this.lm_mobileFlag&&this.lm_passFlag&&(this.lm_flag=!0)},lm_toggle:function(){this.$router.push("/login")},getCAPTCHA:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=/^[1][3,4,5,7,8,9][0-9]{9}$/,!a.test(e.mobile)){t.next=5;break}e.lm_mobileFlag=!0,t.next=7;break;case 5:return e.lm_mobileFlag=!1,t.abrupt("return",!1);case 7:if(!e.lm_mobileFlag){t.next=17;break}return e.CAPTCHAFlag=!0,setInterval((function(){e.lm_second--,0==e.lm_second&&(e.lm_second=0,e.CAPTCHAFlag=!e.CAPTCHAFlag)}),1e3),e.lm_second=60,t.next=13,e.$http.post("/api/app/smsCode",{mobile:e.mobile,sms_type:"login"});case 13:s=t.sent,n=s.data,console.log(n),201==n.code?l["a"].fail("请勿重复获取短信验证码"):200==n.code&&l["a"].success("发送成功");case 17:case"end":return t.stop()}}),t)})))()},lm_Login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.lm_flag){t.next=8;break}return t.next=3,e.$http.post("/api/app/login",{mobile:e.mobile,sms_code:e.captcha,client:1,type:2});case 3:a=t.sent,s=a.data,console.log(s),window.sessionStorage.setItem("token",JSON.stringify(s.data.remember_token)),1!=s.data.is_new?e.$router.push("/mine"):e.$router.push("/setPass");case 8:case"end":return t.stop()}}),t)})))()}}},r=o,c=(a("227e"),a("2877")),m=Object(c["a"])(r,s,n,!1,null,"387039b8",null);t["default"]=m.exports},"8c67":function(e,t,a){}}]);
//# sourceMappingURL=chunk-7dc3ca46.57e3d892.js.map